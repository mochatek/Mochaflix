{"version":3,"file":"static/js/820.b5907388.chunk.js","mappings":"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","sources":["lib/Api.js","components/Advertisement.js","components/MovieDetails.js","components/SimilarMovies.js","routes/Movie.js","hooks/useMovie.js"],"sourcesContent":["import { GENRE_MAP } from \"../lib/constants\";\r\n\r\nclass Api {\r\n  constructor() {\r\n    this.api_key = \"4251ad6189656cd33f14d643b1a4779c\";\r\n    this.baseURI = \"https://api.themoviedb.org/3\";\r\n  }\r\n\r\n  async load(category, movie_id, limit = 10) {\r\n    let endpoint;\r\n\r\n    switch (category) {\r\n      case \"Top Rated\":\r\n        endpoint = `${this.baseURI}/movie/top_rated?api_key=${this.api_key}`;\r\n        break;\r\n      case \"Similar\":\r\n        endpoint = `${this.baseURI}/movie/${movie_id}/similar?api_key=${this.api_key}`;\r\n        break;\r\n      default:\r\n        endpoint = `${this.baseURI}/discover/movie?api_key=${this.api_key}&with_genres=${GENRE_MAP[category]}`;\r\n        break;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(endpoint);\r\n      const { results } = await response.json();\r\n      return {\r\n        results: results\r\n          .filter((item) => item.backdrop_path)\r\n          .slice(0, limit)\r\n          .map((item) => ({\r\n            id: item.id,\r\n            title: item.name || item.original_title,\r\n            poster: `https://image.tmdb.org/t/p/original/${item.backdrop_path}`,\r\n          })),\r\n      };\r\n    } catch (error) {\r\n      return { error: error.message };\r\n    }\r\n  }\r\n\r\n  async get(movie_id) {\r\n    try {\r\n      const response = await fetch(\r\n        `${this.baseURI}/movie/${movie_id}?api_key=${this.api_key}`\r\n      );\r\n      const data = await response.json();\r\n      return {\r\n        title: data.title || data.original_title,\r\n        release: data.release_date.split(\"-\")[0],\r\n        poster: `https://image.tmdb.org/t/p/original/${data.backdrop_path}`,\r\n        genres: data.genres\r\n          .slice(0, 3)\r\n          .map((g) => g.name)\r\n          .join(\", \"),\r\n        overview: data.overview,\r\n        runtime: `${data.runtime}m`,\r\n        rating: data.vote_average,\r\n        language: data.spoken_languages\r\n          .slice(0, 3)\r\n          .map((l) => l.english_name)\r\n          .join(\", \"),\r\n      };\r\n    } catch (error) {\r\n      return { error: error.message };\r\n    }\r\n  }\r\n}\r\n\r\nexport default new Api();\r\n","import Icon from \"../assets/icon.png\";\r\n\r\nfunction Advertisement() {\r\n  return (\r\n    <div id=\"ads\">\r\n      <div>\r\n        <img alt=\"icon\" src={Icon} />\r\n        <span>Watch all you want.</span>\r\n      </div>\r\n      <button className=\"btn-red\">join now</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Advertisement;\r\n","import Advertisement from \"./Advertisement\";\r\nimport { forwardRef } from \"react\";\r\n\r\nconst MovieDetails = forwardRef(({ details }, ref) => {\r\n  return (\r\n    details && (\r\n      <article id=\"basic\" ref={ref}>\r\n        <img alt=\"poster\" src={details.poster} loading=\"eager\" />\r\n        <section>\r\n          <div>\r\n            <h2>{details.title}</h2>\r\n            <p className=\"muted\">\r\n              <span>{details.release}</span>\r\n              &nbsp;&nbsp;|&nbsp;&nbsp;\r\n              <span className=\"boxed\">{details.rating}</span>\r\n              &nbsp;&nbsp;|&nbsp;&nbsp;\r\n              <span>{details.runtime}</span>\r\n              &nbsp;&nbsp;|&nbsp;&nbsp;\r\n              <span>{details.genres}</span>\r\n            </p>\r\n            <p>{details.overview}</p>\r\n            <p>\r\n              <span className=\"muted\">Languages:&nbsp;&nbsp;</span>\r\n              {details.language}\r\n            </p>\r\n            <Advertisement />\r\n          </div>\r\n        </section>\r\n      </article>\r\n    )\r\n  );\r\n});\r\n\r\nexport default MovieDetails;\r\n","import { Link } from \"react-router-dom\";\r\n\r\nfunction SimilarMovies({ similar }) {\r\n  return (\r\n    similar && (\r\n      <article id=\"similars\">\r\n        <h2>More Like This</h2>\r\n        <div>\r\n          {similar.map(({ id, poster }) => (\r\n            <Link to={`/movie/${id}`} key={id}>\r\n              <img alt=\"poster\" src={poster} />\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      </article>\r\n    )\r\n  );\r\n}\r\n\r\nexport default SimilarMovies;\r\n","import MovieDetails from \"../components/MovieDetails\";\r\nimport SimilarMovies from \"../components/SimilarMovies\";\r\nimport { Fragment, useRef, useEffect } from \"react\";\r\nimport useMovie from \"../hooks/useMovie\";\r\nimport \"../scss/Movie.scss\";\r\n\r\nfunction Movie() {\r\n  const { details, similar } = useMovie();\r\n  const detailsRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    detailsRef?.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [details]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <MovieDetails details={details} ref={detailsRef} />\r\n      <blockquote className=\"muted\">\r\n        A <strong>Netflix</strong> clone by{\" \"}\r\n        <a rel=\"noreferrer\" target=\"_blank\" href=\"https://github.com/mochatek\">\r\n          MochaTek\r\n        </a>\r\n        . <br />\r\n        <em>\r\n          Mochaflix uses the TMDb API but is not endorsed or certified by{\" \"}\r\n          <a\r\n            rel=\"noreferrer\"\r\n            target=\"_blank\"\r\n            href=\"https://www.themoviedb.org/\"\r\n          >\r\n            TMDb\r\n          </a>\r\n        </em>\r\n        .\r\n      </blockquote>\r\n      <SimilarMovies similar={similar} />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default Movie;\r\n","import { useState, useEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport api from \"../lib/Api\";\r\n\r\nexport default function useMovie() {\r\n  const { movie_id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [details, setDetails] = useState(null);\r\n  const [similar, setSimilar] = useState(null);\r\n\r\n  useEffect(() => {\r\n    api\r\n      .get(movie_id)\r\n      .then((d_data) => {\r\n        if (\"error\" in d_data) {\r\n          navigate(\"/notFound\");\r\n        } else {\r\n          setDetails(d_data);\r\n          return api.load(\"Similar\", movie_id, 12);\r\n        }\r\n      })\r\n      .then((s_data) => setSimilar(s_data.results));\r\n  }, [movie_id]);\r\n\r\n  return { details, similar };\r\n}\r\n"],"names":["Api","this","api_key","baseURI","category","movie_id","limit","endpoint","GENRE_MAP","fetch","response","json","results","filter","item","backdrop_path","slice","map","id","title","name","original_title","poster","error","message","data","release","release_date","split","genres","g","join","overview","runtime","rating","vote_average","language","spoken_languages","l","english_name","alt","src","Icon","className","forwardRef","ref","details","loading","similar","to","useParams","navigate","useNavigate","useState","setDetails","setSimilar","useEffect","api","then","d_data","s_data","useMovie","detailsRef","useRef","current","scrollIntoView","behavior","Fragment","rel","target","href"],"sourceRoot":""}