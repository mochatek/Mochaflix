"use strict";(self.webpackChunkmochaflix=self.webpackChunkmochaflix||[]).push([[820],{526:function(e,r,t){var n=t(861),a=t(671),i=t(144),s=t(757),c=t.n(s),o=t(896),u=function(){function e(){(0,a.Z)(this,e),this.api_key="4251ad6189656cd33f14d643b1a4779c",this.baseURI="https://api.themoviedb.org/3"}return(0,i.Z)(e,[{key:"load",value:function(){var e=(0,n.Z)(c().mark((function e(r,t){var n,a,i,s,u,l=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l.length>2&&void 0!==l[2]?l[2]:10,e.t0=r,e.next="Top Rated"===e.t0?4:"Similar"===e.t0?6:8;break;case 4:return a="".concat(this.baseURI,"/movie/top_rated?api_key=").concat(this.api_key),e.abrupt("break",10);case 6:return a="".concat(this.baseURI,"/movie/").concat(t,"/similar?api_key=").concat(this.api_key),e.abrupt("break",10);case 8:return a="".concat(this.baseURI,"/discover/movie?api_key=").concat(this.api_key,"&with_genres=").concat(o.TS[r]),e.abrupt("break",10);case 10:return e.prev=10,e.next=13,fetch(a);case 13:return i=e.sent,e.next=16,i.json();case 16:return s=e.sent,u=s.results,e.abrupt("return",{results:u.filter((function(e){return e.backdrop_path})).slice(0,n).map((function(e){return{id:e.id,title:e.name||e.original_title,poster:"https://image.tmdb.org/t/p/original/".concat(e.backdrop_path)}}))});case 21:return e.prev=21,e.t1=e.catch(10),e.abrupt("return",{error:e.t1.message});case 24:case"end":return e.stop()}}),e,this,[[10,21]])})));return function(r,t){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=(0,n.Z)(c().mark((function e(r){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(this.baseURI,"/movie/").concat(r,"?api_key=").concat(this.api_key));case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",{title:n.title||n.original_title,release:n.release_date.split("-")[0],poster:"https://image.tmdb.org/t/p/original/".concat(n.backdrop_path),genres:n.genres.slice(0,3).map((function(e){return e.name})).join(", "),overview:n.overview,runtime:"".concat(n.runtime,"m"),rating:n.vote_average,language:n.spoken_languages.slice(0,3).map((function(e){return e.english_name})).join(", ")});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(r){return e.apply(this,arguments)}}()}]),e}();r.Z=new u},820:function(e,r,t){t.r(r),t.d(r,{default:function(){return p}});var n=t(334),a=t(184);var i=function(){return(0,a.jsxs)("div",{id:"ads",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{alt:"icon",src:n}),(0,a.jsx)("span",{children:"Watch all you want."})]}),(0,a.jsx)("button",{className:"btn-red",children:"join now"})]})},s=t(791),c=(0,s.forwardRef)((function(e,r){var t=e.details;return t&&(0,a.jsxs)("article",{id:"basic",ref:r,children:[(0,a.jsx)("img",{alt:"poster",src:t.poster,loading:"eager"}),(0,a.jsx)("section",{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:t.title}),(0,a.jsxs)("p",{className:"muted",children:[(0,a.jsx)("span",{children:t.release}),"\xa0\xa0|\xa0\xa0",(0,a.jsx)("span",{className:"boxed",children:t.rating}),"\xa0\xa0|\xa0\xa0",(0,a.jsx)("span",{children:t.runtime}),"\xa0\xa0|\xa0\xa0",(0,a.jsx)("span",{children:t.genres})]}),(0,a.jsx)("p",{children:t.overview}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"muted",children:"Languages:\xa0\xa0"}),t.language]}),(0,a.jsx)(i,{})]})})]})})),o=t(504);var u=function(e){var r=e.similar;return r&&(0,a.jsxs)("article",{id:"similars",children:[(0,a.jsx)("h2",{children:"More Like This"}),(0,a.jsx)("div",{children:r.map((function(e){var r=e.id,t=e.poster;return(0,a.jsx)(o.rU,{to:"/movie/".concat(r),children:(0,a.jsx)("img",{alt:"poster",src:t})},r)}))})]})},l=t(152),h=t(871),d=t(526);var p=function(){var e=function(){var e=(0,h.UO)().movie_id,r=(0,h.s0)(),t=(0,s.useState)(null),n=(0,l.Z)(t,2),a=n[0],i=n[1],c=(0,s.useState)(null),o=(0,l.Z)(c,2),u=o[0],p=o[1];return(0,s.useEffect)((function(){d.Z.get(e).then((function(t){if(!("error"in t))return i(t),d.Z.load("Similar",e,12);r("/notFound")})).then((function(e){return p(e.results)}))}),[e]),{details:a,similar:u}}(),r=e.details,t=e.similar,n=(0,s.useRef)(null);return(0,s.useEffect)((function(){var e;null===n||void 0===n||null===(e=n.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[r]),(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)(c,{details:r,ref:n}),(0,a.jsxs)("blockquote",{className:"muted",children:["A ",(0,a.jsx)("strong",{children:"Netflix"})," clone by"," ",(0,a.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://github.com/mochatek",children:"MochaTek"}),". ",(0,a.jsx)("br",{}),(0,a.jsxs)("em",{children:["Mochaflix uses the TMDb API but is not endorsed or certified by"," ",(0,a.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://www.themoviedb.org/",children:"TMDb"})]}),"."]}),(0,a.jsx)(u,{similar:t})]})}}}]);
//# sourceMappingURL=820.b5907388.chunk.js.map